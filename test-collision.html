<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collision System Test</title>
    <style>
        body { margin: 0; padding: 20px; font-family: monospace; background: #1a1a1a; color: #fff; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #333; border-radius: 5px; }
        .success { border-color: #4CAF50; background: #1a2e1a; }
        .error { border-color: #f44336; background: #2e1a1a; }
        .warning { border-color: #ff9800; background: #2e2a1a; }
        button { margin: 5px; padding: 10px; background: #4CAF50; color: white; border: none; border-radius: 3px; cursor: pointer; }
        button:hover { background: #45a049; }
        .log { background: #000; padding: 10px; border-radius: 3px; max-height: 300px; overflow-y: auto; font-size: 12px; }
    </style>
</head>
<body>
    <h1>üèîÔ∏è Land Collision System Test</h1>
    
    <div class="test-section">
        <h3>üß™ Test Commands</h3>
        <button onclick="testLandCollision()">Test Land Collision</button>
        <button onclick="testGroundDetection()">Test Ground Detection</button>
        <button onclick="showLandBounds()">Show Land Bounds</button>
        <button onclick="refreshCollisionSystem()">Refresh Collision System</button>
        <button onclick="clearLog()">Clear Log</button>
    </div>

    <div class="test-section">
        <h3>üìä Test Results</h3>
        <div id="results"></div>
    </div>

    <div class="test-section">
        <h3>üìù Console Log</h3>
        <div id="log" class="log"></div>
    </div>

    <script>
        // Intercept console.log to capture output
        const originalLog = console.log;
        const originalWarn = console.warn;
        const originalError = console.error;
        
        function addToLog(type, ...args) {
            const logDiv = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            const message = args.map(arg => 
                typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
            ).join(' ');
            
            const logEntry = document.createElement('div');
            logEntry.style.color = type === 'error' ? '#f44336' : type === 'warn' ? '#ff9800' : '#4CAF50';
            logEntry.textContent = `[${timestamp}] ${type.toUpperCase()}: ${message}`;
            logDiv.appendChild(logEntry);
            logDiv.scrollTop = logDiv.scrollHeight;
        }
        
        console.log = (...args) => {
            originalLog(...args);
            addToLog('log', ...args);
        };
        
        console.warn = (...args) => {
            originalWarn(...args);
            addToLog('warn', ...args);
        };
        
        console.error = (...args) => {
            originalError(...args);
            addToLog('error', ...args);
        };

        function updateResults(content, className = '') {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = content;
            resultsDiv.className = className;
        }

        function testLandCollision() {
            if (window.testLandCollision) {
                window.testLandCollision();
                updateResults('‚úÖ Land collision test executed. Check console for results.', 'success');
            } else {
                updateResults('‚ùå testLandCollision function not available. Make sure the app is loaded.', 'error');
            }
        }

        function testGroundDetection() {
            if (window.testGroundDetection) {
                window.testGroundDetection();
                updateResults('‚úÖ Ground detection test executed. Check console for results.', 'success');
            } else {
                updateResults('‚ùå testGroundDetection function not available. Make sure the app is loaded.', 'error');
            }
        }

        function showLandBounds() {
            if (window.showLandBounds) {
                window.showLandBounds();
                updateResults('‚úÖ Land bounds test executed. Check console for results.', 'success');
            } else {
                updateResults('‚ùå showLandBounds function not available. Make sure the app is loaded.', 'error');
            }
        }

        function refreshCollisionSystem() {
            if (window.refreshCollisionSystem) {
                window.refreshCollisionSystem();
                updateResults('‚úÖ Collision system refresh executed. Check console for results.', 'success');
            } else {
                updateResults('‚ùå refreshCollisionSystem function not available. Make sure the app is loaded.', 'error');
            }
        }

        function clearLog() {
            document.getElementById('log').innerHTML = '';
            updateResults('‚úÖ Log cleared.', 'success');
        }

        // Auto-detect when app is loaded
        function checkAppLoaded() {
            if (window.testLandCollision && window.testGroundDetection) {
                updateResults('‚úÖ App loaded successfully! All test functions are available.', 'success');
            } else {
                updateResults('‚è≥ Waiting for app to load...', 'warning');
                setTimeout(checkAppLoaded, 1000);
            }
        }

        // Start checking
        checkAppLoaded();
    </script>
</body>
</html> 